import{_ as A,r as _,d as w,c as a,a as s,e as x,t as l,F as $,b as D,f as C,o as r,g as h,h as N,w as V}from"./index-C89EAVNL.js";const E={class:"attractions"},I={class:"attractions-list"},T={class:"container"},F={key:0,class:"loading-state"},B={key:1,class:"error-state"},H={key:2,class:"attractions-grid"},L={class:"attraction-image"},P=["src","alt"],M={class:"attraction-content"},j={class:"attraction-meta"},R={class:"price"},S={class:"duration"},U={class:"attraction-actions"},W=["onClick"],q={key:3,class:"no-results"},z={__name:"AttractionsView",setup(G){const d=_([]),u=_(!1),c=_(null),p=async()=>{u.value=!0,c.value=null;try{const o=await fetch("https://searchyourtour.com/api/allTours");if(!o.ok)throw new Error("Failed to fetch attractions");const t=await o.json();d.value=(t.data||[]).filter(n=>{var e;return((e=n.destination)==null?void 0:e.id)===404&&n.is_active})}catch(o){c.value="Failed to load attractions. Please try again later.",console.error("Error fetching attractions:",o)}finally{u.value=!1}},v=o=>{var t,n;return((n=(t=o.content)==null?void 0:t[0])==null?void 0:n.name)||"Unnamed Attraction"},m=o=>{var i,f;const t=(f=(i=o.content)==null?void 0:i[0])==null?void 0:f.meta_content;if(!t)return"No description available";const n=document.createElement("div");n.innerHTML=t;const e=n.textContent||n.innerText||"";return e.length>120?e.substring(0,120)+"...":e},g=o=>{var t,n;return((n=(t=o.files)==null?void 0:t[0])==null?void 0:n.url)||"https://via.placeholder.com/300x200?text=Istanbul+Attraction"},y=o=>{var e,i;const t=(e=o.tour_price)==null?void 0:e[0];return t?`${((i=t.currency)==null?void 0:i.icon)||"â‚¬"}${t.price}`:"FREE with Pass"},b=o=>{const t=o.tour_duraction,n=o.tour_duraction_type||"hour";return t?n==="hour"?`${t} ${t===1?"Hour":"Hours"}`:n==="day"?`${t} ${t===1?"Day":"Days"}`:`${t} ${n}s`:"Duration not specified"},k=o=>{console.log("Adding attraction to wishlist:",o)};return w(()=>{p()}),(o,t)=>{const n=C("router-link");return r(),a("div",E,[t[5]||(t[5]=s("section",{class:"hero-section"},[s("div",{class:"container"},[s("h1",null,"Istanbul Attractions"),s("p",null,"Discover the most popular attractions and tours included in your pass")])],-1)),s("section",I,[s("div",T,[u.value?(r(),a("div",F,t[0]||(t[0]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"Loading Istanbul attractions...",-1)]))):c.value?(r(),a("div",B,[s("p",null,l(c.value),1),s("button",{onClick:p,class:"btn btn-primary"},"Try Again")])):(r(),a("div",H,[(r(!0),a($,null,D(d.value,e=>(r(),a("div",{class:"attraction-card",key:e.id},[s("div",L,[s("img",{src:g(e),alt:v(e)},null,8,P)]),s("div",M,[s("h3",null,l(v(e)),1),s("p",null,l(m(e)),1),s("div",j,[s("span",R,l(y(e)),1),s("span",S,[t[1]||(t[1]=s("i",{class:"fas fa-clock"},null,-1)),h(" "+l(b(e)),1)])]),s("div",U,[N(n,{to:`/tour/${e.id}`,class:"btn btn-primary"},{default:V(()=>t[2]||(t[2]=[h("View Details")])),_:2,__:[2]},1032,["to"]),s("button",{onClick:i=>k(e.id),class:"btn btn-secondary"},t[3]||(t[3]=[s("i",{class:"fas fa-heart"},null,-1)]),8,W)])])]))),128))])),!u.value&&!c.value&&d.value.length===0?(r(),a("div",q,t[4]||(t[4]=[s("p",null,"No Istanbul attractions found at the moment.",-1)]))):x("",!0)])])])}}},K=A(z,[["__scopeId","data-v-6feb7087"]]);export{K as default};
