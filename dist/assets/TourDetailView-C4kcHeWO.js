import{_ as B,r as c,g as H,a as i,o as a,b as e,d,w as S,v as M,t as o,f as p,n as G,c as R,F as N,e as I,j as P,k as L,i as K,p as x,u as J}from"./index-CfH28EX-.js";const Q={class:"checkout-container"},X={class:"form-group"},Z={class:"form-group"},ee={class:"order-summary"},te={class:"summary-row"},se={class:"total-amount"},le=["disabled"],ne={key:0},oe={key:1},ie={key:0,class:"success-message"},ae={key:1,class:"error-message"},ue={__name:"CheckoutForm",props:{orderTotal:{type:String,default:"â‚¬149.00"}},setup(F){let h,v,s;const k=c(""),_=c(""),m=c(!1),b=c(!1),f=c("");H(()=>{if(window.Stripe)T();else{const g=document.createElement("script");g.src="https://js.stripe.com/v3/",g.onload=T,document.head.appendChild(g)}});function T(){h=window.Stripe("pk_test_51N9...YOUR_PUBLIC_KEY..."),v=h.elements(),s=v.create("card"),s.mount("#card-element")}const C=async()=>{m.value=!0,f.value="",b.value=!1;try{const{paymentMethod:g,error:r}=await h.createPaymentMethod({type:"card",card:s,billing_details:{name:k.value,email:_.value}});if(r){f.value=r.message,m.value=!1;return}setTimeout(()=>{m.value=!1,b.value=!0},1200)}catch(g){f.value=g.message||"Payment failed.",m.value=!1}};return(g,r)=>(a(),i("div",Q,[r[8]||(r[8]=e("h2",null,"Payment",-1)),e("form",{onSubmit:G(C,["prevent"]),class:"checkout-form"},[e("div",X,[r[2]||(r[2]=e("label",null,"Name on Card",-1)),S(e("input",{"onUpdate:modelValue":r[0]||(r[0]=w=>k.value=w),type:"text",required:"",placeholder:"Full Name"},null,512),[[M,k.value]])]),e("div",Z,[r[3]||(r[3]=e("label",null,"Email Address",-1)),S(e("input",{"onUpdate:modelValue":r[1]||(r[1]=w=>_.value=w),type:"email",required:"",placeholder:"you@email.com"},null,512),[[M,_.value]])]),r[7]||(r[7]=e("div",{class:"form-group"},[e("label",null,"Card Details"),e("div",{id:"card-element",class:"stripe-card-element"})],-1)),e("div",ee,[e("div",te,[r[4]||(r[4]=e("span",null,"Order Total",-1)),e("span",se,o(F.orderTotal),1)])]),e("button",{class:"pay-btn",disabled:m.value},[m.value?(a(),i("span",ne,"Processing...")):(a(),i("span",oe,"Pay Now"))],8,le),b.value?(a(),i("div",ie,r[5]||(r[5]=[e("i",{class:"fas fa-check-circle"},null,-1),p(" Payment Successful! Thank you. ")]))):d("",!0),f.value?(a(),i("div",ae,[r[6]||(r[6]=e("i",{class:"fas fa-exclamation-circle"},null,-1)),p(" "+o(f.value),1)])):d("",!0)],32)]))}},re=B(ue,[["__scopeId","data-v-fa66d254"]]),de={class:"tour-detail"},ce={key:0,class:"loading-state"},ve={key:1,class:"error-state"},pe={key:2},me={class:"tour-hero"},_e={class:"container"},fe={class:"tour-hero-content"},ge={class:"tour-images"},ye={class:"main-image"},ke=["src","alt"],be={key:0,class:"image-gallery"},Te=["src","alt"],he={class:"tour-info"},we={class:"breadcrumb"},$e={class:"tour-title"},Ce={class:"tour-meta"},De={class:"duration"},Ne={class:"destination"},Ie={class:"tour-description"},xe={key:0,class:"tour-highlights"},Se={key:1,class:"pass-box"},Me={class:"pass-select-row"},Pe={class:"pass-select"},Fe={class:"pass-price"},Ae={class:"quantity-row"},Ve=["disabled"],qe={class:"price-summary"},Ee={key:0,class:"old-price"},Le={class:"new-price"},Ue={key:1,class:"discount"},Be={class:"order-total-row"},He={class:"order-total"},Oe={key:0,class:"save-note"},je={class:"tour-details"},We={class:"container"},Ye={class:"tabs"},ze={class:"tab-content"},Ge={key:0,class:"tab-panel"},Re={class:"overview-content"},Ke={class:"overview-text"},Je=["innerHTML"],Qe={class:"overview-sidebar"},Xe={class:"info-card"},Ze={class:"info-item"},et={class:"info-item"},tt={class:"info-item"},st={class:"info-item"},lt={key:0,class:"info-item"},nt={key:1,class:"tab-panel"},ot={class:"inclusions-grid"},it={key:0,class:"inclusions-section"},at={class:"inclusions-list"},ut={key:1,class:"inclusions-section"},rt={class:"exclusions-list"},dt={key:2,class:"tab-panel"},ct={class:"additional-info"},vt={class:"info-section"},pt={class:"detail-item"},mt={class:"detail-item"},_t={class:"detail-item"},ft={key:0,class:"detail-item"},gt={key:3,class:"checkout-modal"},yt={class:"checkout-content"},U="â‚¬10.00",kt={__name:"TourDetailView",setup(F){const h=J(),v=c("overview"),s=c(null),k=c(!1),_=c(null),m=c(1),b=c(""),f=c(""),T=c(!1),C=async()=>{k.value=!0,_.value=null;try{const n=localStorage.getItem("selectedLanguage")||"en",u=`https://searchyourtour.com/api/tours?token=ad5257a5-efdd-4314-9e5e-b56aabe321f1&language_id=${g(n)}&currency_id=5&limit=100&IpAdrress=78.177.166.135`,l=await fetch(u);if(!l.ok)throw new Error("Failed to fetch tour data");const $=(await l.json()).find(z=>z.id.toString()===h.params.id);if(!$){_.value="Tour not found";return}s.value=$}catch(n){_.value="Failed to load tour details. Please try again later.",console.error("Error fetching tour:",n)}finally{k.value=!1}},g=n=>({en:1,tr:2,de:6,ru:9})[n]||1,r=n=>{var t,u;return((u=(t=n.content)==null?void 0:t[0])==null?void 0:u.name)||"Unnamed Tour"},w=n=>{var y,$;const t=($=(y=n.content)==null?void 0:y[0])==null?void 0:$.meta_content;if(!t)return"No description available";const u=document.createElement("div");u.innerHTML=t;const l=u.textContent||u.innerText||"";return l.length>200?l.substring(0,200)+"...":l},O=n=>{var t,u;return((u=(t=n.content)==null?void 0:t[0])==null?void 0:u.description)||"No detailed description available"},j=n=>{var t,u;return((u=(t=n.files)==null?void 0:t[0])==null?void 0:u.url)||"https://via.placeholder.com/800x500?text=No+Image"},A=n=>{var t;return((t=n.destination)==null?void 0:t.name)||"Unknown Destination"},V=n=>{var l,y;const t=(l=n.tour_price)==null?void 0:l[0];return t?`${((y=t.currency)==null?void 0:y.icon)||"â‚¬"}${t.price}`:"Price on request"},q=n=>{var u,l;const t=(u=n.tour_price)==null?void 0:u[0];return t&&t.old_price&&t.old_price>t.price?`${((l=t.currency)==null?void 0:l.icon)||"â‚¬"}${t.old_price}`:null},D=n=>{var u;const t=(u=n.tour_price)==null?void 0:u[0];return t&&t.old_price&&t.old_price>t.price?`â‚¬${t.old_price-t.price}`:null},E=R(()=>{var u;if(!s.value)return"â‚¬0.00";const n=(u=s.value.tour_price)==null?void 0:u[0];return n?`â‚¬${n.price*m.value+10}.00`:"Price on request"}),W=()=>{T.value=!0},Y=n=>{if(!n.days||n.days.length===0)return"Not specified";const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return n.days.map(u=>t[u-1]).join(", ")};return H(()=>{C()}),(n,t)=>{const u=K("router-link");return a(),i("div",de,[k.value?(a(),i("div",ce,t[9]||(t[9]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"Loading tour details...",-1)]))):_.value?(a(),i("div",ve,[e("p",null,o(_.value),1),e("button",{onClick:C,class:"btn btn-primary"},"Try Again")])):s.value?(a(),i("div",pe,[e("section",me,[e("div",_e,[e("div",fe,[e("div",ge,[e("div",ye,[e("img",{src:j(s.value),alt:r(s.value)},null,8,ke)]),s.value.files&&s.value.files.length>1?(a(),i("div",be,[(a(!0),i(N,null,I(s.value.files.slice(1,5),(l,y)=>(a(),i("div",{class:"gallery-item",key:l.id},[e("img",{src:l.url,alt:`${r(s.value)} - Image ${y+2}`},null,8,Te)]))),128))])):d("",!0)]),e("div",he,[e("nav",we,[P(u,{to:"/"},{default:L(()=>t[10]||(t[10]=[p("Home")])),_:1,__:[10]}),t[12]||(t[12]=e("span",null,"/",-1)),P(u,{to:"/tours"},{default:L(()=>t[11]||(t[11]=[p("Tours")])),_:1,__:[11]}),t[13]||(t[13]=e("span",null,"/",-1)),e("span",null,o(r(s.value)),1)]),e("h1",$e,o(r(s.value)),1),e("div",Ce,[t[16]||(t[16]=e("div",{class:"rating"},[e("i",{class:"fas fa-star"}),e("span",null,"4.5"),e("span",{class:"review-count"},"(New)")],-1)),e("div",De,[t[14]||(t[14]=e("i",{class:"fas fa-clock"},null,-1)),e("span",null,o(s.value.tour_duraction)+" "+o(s.value.tour_duraction_type)+o(s.value.tour_duraction>1?"s":""),1)]),e("div",Ne,[t[15]||(t[15]=e("i",{class:"fas fa-map-marker-alt"},null,-1)),e("span",null,o(A(s.value)),1)])]),e("div",Ie,[e("p",null,o(w(s.value)),1)]),s.value.tour_include_service&&s.value.tour_include_service.length>0?(a(),i("div",xe,[t[17]||(t[17]=e("h3",null,"Highlights",-1)),e("ul",null,[(a(!0),i(N,null,I(s.value.tour_include_service.slice(0,5),l=>(a(),i("li",{key:l.id},o(l.include_service),1))),128))])])):d("",!0),s.value?(a(),i("div",Se,[t[23]||(t[23]=e("h2",null,"Book this tour",-1)),e("div",Me,[e("div",Pe,o(r(s.value)),1),e("span",Fe,[p(o(V(s.value)),1),t[18]||(t[18]=e("small",null," / person",-1))])]),e("div",Ae,[e("button",{onClick:t[0]||(t[0]=(...l)=>n.decrement&&n.decrement(...l)),disabled:m.value<=1},"-",8,Ve),e("span",null,o(m.value),1),e("button",{onClick:t[1]||(t[1]=(...l)=>n.increment&&n.increment(...l))},"+")]),e("div",qe,[q(s.value)?(a(),i("div",Ee,[e("s",null,o(q(s.value)),1)])):d("",!0),e("div",Le,o(V(s.value)),1),D(s.value)?(a(),i("div",Ue,[t[19]||(t[19]=e("span",null,"Sale Discount",-1)),e("span",null,"-"+o(D(s.value)),1)])):d("",!0)]),t[24]||(t[24]=e("hr",null,null,-1)),e("div",{class:"fee-row"},[t[20]||(t[20]=e("span",null,[p("Instant Access Fee "),e("span",{class:"info",title:"You get your booking instantly after payment."},"i")],-1)),e("span",null,o(U))]),t[25]||(t[25]=e("div",{class:"eco-row"},[e("span",{class:"eco-icon"},"ðŸŒ±"),e("span",null,"Eco-Friendly Green Technology")],-1)),t[26]||(t[26]=e("hr",null,null,-1)),e("div",Be,[t[21]||(t[21]=e("span",null,"Order Total",-1)),e("span",He,o(E.value),1)]),t[27]||(t[27]=e("div",{class:"tax-note"},"All taxes and fees included",-1)),S(e("input",{type:"email",placeholder:"E-mail Address",class:"input","onUpdate:modelValue":t[2]||(t[2]=l=>b.value=l)},null,512),[[M,b.value]]),S(e("input",{type:"date",placeholder:"Tour Date",class:"input","onUpdate:modelValue":t[3]||(t[3]=l=>f.value=l)},null,512),[[M,f.value]]),e("button",{class:"pay-btn",onClick:W},"Book Now"),D(s.value)?(a(),i("div",Oe,[e("b",null,"Save "+o(D(s.value)),1),t[22]||(t[22]=p(" on this tour versus original price. "))])):d("",!0)])):d("",!0)])])])]),e("section",je,[e("div",We,[e("div",Ye,[e("button",{class:x(["tab-btn",{active:v.value==="overview"}]),onClick:t[4]||(t[4]=l=>v.value="overview")}," Overview ",2),e("button",{class:x(["tab-btn",{active:v.value==="inclusions"}]),onClick:t[5]||(t[5]=l=>v.value="inclusions")}," What's Included ",2),e("button",{class:x(["tab-btn",{active:v.value==="additional"}]),onClick:t[6]||(t[6]=l=>v.value="additional")}," Additional Info ",2)]),e("div",ze,[v.value==="overview"?(a(),i("div",Ge,[e("div",Re,[e("div",Ke,[t[28]||(t[28]=e("h3",null,"About This Tour",-1)),e("div",{innerHTML:O(s.value)},null,8,Je)]),e("div",Qe,[e("div",Xe,[t[34]||(t[34]=e("h4",null,"Tour Information",-1)),e("div",Ze,[t[29]||(t[29]=e("i",{class:"fas fa-map-marker-alt"},null,-1)),e("span",null,"Destination: "+o(A(s.value)),1)]),e("div",et,[t[30]||(t[30]=e("i",{class:"fas fa-clock"},null,-1)),e("span",null,"Duration: "+o(s.value.tour_duraction)+" "+o(s.value.tour_duraction_type)+o(s.value.tour_duraction>1?"s":""),1)]),e("div",tt,[t[31]||(t[31]=e("i",{class:"fas fa-users"},null,-1)),e("span",null,"Max Group Size: "+o(s.value.pax||"Not specified"),1)]),e("div",st,[t[32]||(t[32]=e("i",{class:"fas fa-calendar"},null,-1)),e("span",null,"Available Days: "+o(Y(s.value)),1)]),s.value.min_age?(a(),i("div",lt,[t[33]||(t[33]=e("i",{class:"fas fa-child"},null,-1)),e("span",null,"Minimum Age: "+o(s.value.min_age),1)])):d("",!0)])])])])):d("",!0),v.value==="inclusions"?(a(),i("div",nt,[e("div",ot,[s.value.tour_include_service&&s.value.tour_include_service.length>0?(a(),i("div",it,[t[36]||(t[36]=e("h3",null,"What's Included",-1)),e("ul",at,[(a(!0),i(N,null,I(s.value.tour_include_service,l=>(a(),i("li",{key:l.id},[t[35]||(t[35]=e("i",{class:"fas fa-check"},null,-1)),p(" "+o(l.include_service),1)]))),128))])])):d("",!0),s.value.tour_outside_service&&s.value.tour_outside_service.length>0?(a(),i("div",ut,[t[38]||(t[38]=e("h3",null,"Not Included",-1)),e("ul",rt,[(a(!0),i(N,null,I(s.value.tour_outside_service,l=>(a(),i("li",{key:l.id},[t[37]||(t[37]=e("i",{class:"fas fa-times"},null,-1)),p(" "+o(l.outside_service),1)]))),128))])])):d("",!0)])])):d("",!0),v.value==="additional"?(a(),i("div",dt,[e("div",ct,[e("div",vt,[t[43]||(t[43]=e("h3",null,"Tour Details",-1)),e("div",pt,[t[39]||(t[39]=e("strong",null,"Tour Code:",-1)),p(" "+o(s.value.code),1)]),e("div",mt,[t[40]||(t[40]=e("strong",null,"Duration Type:",-1)),p(" "+o(s.value.tour_duraction_type),1)]),e("div",_t,[t[41]||(t[41]=e("strong",null,"Status:",-1)),e("span",{class:x(s.value.is_active?"status-active":"status-inactive")},o(s.value.is_active?"Active":"Inactive"),3)]),s.value.ask_for_price?(a(),i("div",ft,t[42]||(t[42]=[e("strong",null,"Pricing:",-1),p(" Price on request ")]))):d("",!0)])])])):d("",!0)])])])])):d("",!0),T.value?(a(),i("div",gt,[e("div",yt,[e("span",{class:"close-btn",onClick:t[7]||(t[7]=l=>T.value=!1)},"Ã—"),t[44]||(t[44]=e("h2",null,"Checkout",-1)),P(re,{tour:s.value,quantity:m.value,email:b.value,startDate:f.value,instantFee:U,orderTotal:E.value,onClose:t[8]||(t[8]=l=>T.value=!1)},null,8,["tour","quantity","email","startDate","orderTotal"])])])):d("",!0)])}}},Tt=B(kt,[["__scopeId","data-v-b7ea46ed"]]);export{Tt as default};
