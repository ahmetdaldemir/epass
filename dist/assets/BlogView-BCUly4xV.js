import{r as e,c as a,o as t,P as n,k as l,l as s,m as i,x as o,u as r,j as d,n as u,F as p,L as c,Z as g,t as m,U as v,af as y,v as b,J as h}from"./vendor-C-dIp69U.js";import{_ as f,u as E,S as w,g as k}from"./index-DTg6-P2C.js";import{e as _,c as L,m as x,g as C}from"./swiper-CkPewYJk.js";import{B as T}from"./Breadcrumb-BQ2nqtc_.js";/* empty css                                                                   */function S(e){let{swiper:a,extendParams:t,on:n,emit:l}=e;function s(e){let t;return e&&"string"==typeof e&&a.isElement&&(t=a.el.querySelector(e)||a.hostEl.querySelector(e),t)?t:(e&&("string"==typeof e&&(t=[...document.querySelectorAll(e)]),a.params.uniqueNavElements&&"string"==typeof e&&t&&t.length>1&&1===a.el.querySelectorAll(e).length?t=a.el.querySelector(e):t&&1===t.length&&(t=t[0])),e&&!t?e:t)}function i(e,t){const n=a.params.navigation;(e=x(e)).forEach(e=>{e&&(e.classList[t?"add":"remove"](...n.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=t),a.params.watchOverflow&&a.enabled&&e.classList[a.isLocked?"add":"remove"](n.lockClass))})}function o(){const{nextEl:e,prevEl:t}=a.navigation;if(a.params.loop)return i(t,!1),void i(e,!1);i(t,a.isBeginning&&!a.params.rewind),i(e,a.isEnd&&!a.params.rewind)}function r(e){e.preventDefault(),(!a.isBeginning||a.params.loop||a.params.rewind)&&(a.slidePrev(),l("navigationPrev"))}function d(e){e.preventDefault(),(!a.isEnd||a.params.loop||a.params.rewind)&&(a.slideNext(),l("navigationNext"))}function u(){const e=a.params.navigation;if(a.params.navigation=function(e,a,t,n){return e.params.createElements&&Object.keys(n).forEach(l=>{if(!t[l]&&!0===t.auto){let s=_(e.el,`.${n[l]}`)[0];s||(s=L("div",n[l]),s.className=n[l],e.el.append(s)),t[l]=s,a[l]=s}}),t}(a,a.originalParams.navigation,a.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let t=s(e.nextEl),n=s(e.prevEl);Object.assign(a.navigation,{nextEl:t,prevEl:n}),t=x(t),n=x(n);const l=(t,n)=>{t&&t.addEventListener("click","next"===n?d:r),!a.enabled&&t&&t.classList.add(...e.lockClass.split(" "))};t.forEach(e=>l(e,"next")),n.forEach(e=>l(e,"prev"))}function p(){let{nextEl:e,prevEl:t}=a.navigation;e=x(e),t=x(t);const n=(e,t)=>{e.removeEventListener("click","next"===t?d:r),e.classList.remove(...a.params.navigation.disabledClass.split(" "))};e.forEach(e=>n(e,"next")),t.forEach(e=>n(e,"prev"))}t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),a.navigation={nextEl:null,prevEl:null},n("init",()=>{!1===a.params.navigation.enabled?c():(u(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{p()}),n("enable disable",()=>{let{nextEl:e,prevEl:t}=a.navigation;e=x(e),t=x(t),a.enabled?o():[...e,...t].filter(e=>!!e).forEach(e=>e.classList.add(a.params.navigation.lockClass))}),n("click",(e,t)=>{let{nextEl:n,prevEl:s}=a.navigation;n=x(n),s=x(s);const i=t.target;let o=s.includes(i)||n.includes(i);if(a.isElement&&!o){const e=t.path||t.composedPath&&t.composedPath();e&&(o=e.find(e=>n.includes(e)||s.includes(e)))}if(a.params.navigation.hideOnClick&&!o){if(a.pagination&&a.params.pagination&&a.params.pagination.clickable&&(a.pagination.el===i||a.pagination.el.contains(i)))return;let e;n.length?e=n[0].classList.contains(a.params.navigation.hiddenClass):s.length&&(e=s[0].classList.contains(a.params.navigation.hiddenClass)),l(!0===e?"navigationShow":"navigationHide"),[...n,...s].filter(e=>!!e).forEach(e=>e.classList.toggle(a.params.navigation.hiddenClass))}});const c=()=>{a.el.classList.add(...a.params.navigation.navigationDisabledClass.split(" ")),p()};Object.assign(a.navigation,{enable:()=>{a.el.classList.remove(...a.params.navigation.navigationDisabledClass.split(" ")),u(),o()},disable:c,update:o,init:u,destroy:p})}function O(e){let a,t,{swiper:n,extendParams:l,on:s,emit:i,params:o}=e;n.autoplay={running:!1,paused:!1,timeLeft:0},l({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let r,d,u,p,c,g,m,v,y=o&&o.autoplay?o.autoplay.delay:3e3,b=o&&o.autoplay?o.autoplay.delay:3e3,h=(new Date).getTime();function f(e){n&&!n.destroyed&&n.wrapperEl&&e.target===n.wrapperEl&&(n.wrapperEl.removeEventListener("transitionend",f),v||e.detail&&e.detail.bySwiperTouchMove||x())}const E=()=>{if(n.destroyed||!n.autoplay.running)return;n.autoplay.paused?d=!0:d&&(b=r,d=!1);const e=n.autoplay.paused?r:h+b-(new Date).getTime();n.autoplay.timeLeft=e,i("autoplayTimeLeft",e,e/y),t=requestAnimationFrame(()=>{E()})},w=e=>{if(n.destroyed||!n.autoplay.running)return;cancelAnimationFrame(t),E();let l=void 0===e?n.params.autoplay.delay:e;y=n.params.autoplay.delay,b=n.params.autoplay.delay;const s=(()=>{let e;if(e=n.virtual&&n.params.virtual.enabled?n.slides.find(e=>e.classList.contains("swiper-slide-active")):n.slides[n.activeIndex],!e)return;return parseInt(e.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(s)&&s>0&&void 0===e&&(l=s,y=s,b=s),r=l;const o=n.params.speed,d=()=>{n&&!n.destroyed&&(n.params.autoplay.reverseDirection?!n.isBeginning||n.params.loop||n.params.rewind?(n.slidePrev(o,!0,!0),i("autoplay")):n.params.autoplay.stopOnLastSlide||(n.slideTo(n.slides.length-1,o,!0,!0),i("autoplay")):!n.isEnd||n.params.loop||n.params.rewind?(n.slideNext(o,!0,!0),i("autoplay")):n.params.autoplay.stopOnLastSlide||(n.slideTo(0,o,!0,!0),i("autoplay")),n.params.cssMode&&(h=(new Date).getTime(),requestAnimationFrame(()=>{w()})))};return l>0?(clearTimeout(a),a=setTimeout(()=>{d()},l)):requestAnimationFrame(()=>{d()}),l},k=()=>{h=(new Date).getTime(),n.autoplay.running=!0,w(),i("autoplayStart")},_=()=>{n.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(t),i("autoplayStop")},L=(e,t)=>{if(n.destroyed||!n.autoplay.running)return;clearTimeout(a),e||(m=!0);const l=()=>{i("autoplayPause"),n.params.autoplay.waitForTransition?n.wrapperEl.addEventListener("transitionend",f):x()};if(n.autoplay.paused=!0,t)return g&&(r=n.params.autoplay.delay),g=!1,void l();const s=r||n.params.autoplay.delay;r=s-((new Date).getTime()-h),n.isEnd&&r<0&&!n.params.loop||(r<0&&(r=0),l())},x=()=>{n.isEnd&&r<0&&!n.params.loop||n.destroyed||!n.autoplay.running||(h=(new Date).getTime(),m?(m=!1,w(r)):w(),n.autoplay.paused=!1,i("autoplayResume"))},T=()=>{if(n.destroyed||!n.autoplay.running)return;const e=C();"hidden"===e.visibilityState&&(m=!0,L(!0)),"visible"===e.visibilityState&&x()},S=e=>{"mouse"===e.pointerType&&(m=!0,v=!0,n.animating||n.autoplay.paused||L(!0))},O=e=>{"mouse"===e.pointerType&&(v=!1,n.autoplay.paused&&x())};s("init",()=>{n.params.autoplay.enabled&&(n.params.autoplay.pauseOnMouseEnter&&(n.el.addEventListener("pointerenter",S),n.el.addEventListener("pointerleave",O)),C().addEventListener("visibilitychange",T),k())}),s("destroy",()=>{n.el&&"string"!=typeof n.el&&(n.el.removeEventListener("pointerenter",S),n.el.removeEventListener("pointerleave",O)),C().removeEventListener("visibilitychange",T),n.autoplay.running&&_()}),s("_freeModeStaticRelease",()=>{(p||m)&&x()}),s("_freeModeNoMomentumRelease",()=>{n.params.autoplay.disableOnInteraction?_():L(!0,!0)}),s("beforeTransitionStart",(e,a,t)=>{!n.destroyed&&n.autoplay.running&&(t||!n.params.autoplay.disableOnInteraction?L(!0,!0):_())}),s("sliderFirstMove",()=>{!n.destroyed&&n.autoplay.running&&(n.params.autoplay.disableOnInteraction?_():(u=!0,p=!1,m=!1,c=setTimeout(()=>{m=!0,p=!0,L(!0)},200)))}),s("touchEnd",()=>{if(!n.destroyed&&n.autoplay.running&&u){if(clearTimeout(c),clearTimeout(a),n.params.autoplay.disableOnInteraction)return p=!1,void(u=!1);p&&n.params.cssMode&&x(),p=!1,u=!1}}),s("slideChange",()=>{!n.destroyed&&n.autoplay.running&&(g=!0)}),Object.assign(n.autoplay,{start:k,stop:_,pause:L,resume:x})}const D={class:"blog-container"},j={class:"blog-header"},M={class:"subtitle"},I={class:"blog-breadcrumb-wrapper"},A={key:0,class:"loading-state"},B={key:1,class:"empty-state"},N={key:2,class:"blog-hero-slider-wrapper"},P={class:"blog-hero-slider-container"},q={class:"hero-title"},F=["onClick"],$={class:"hero-content"},z={class:"hero-description"},R={class:"hero-meta"},U={class:"hero-author-date"},H={class:"blog-thumbnail-nav"},J=["onClick"],V={class:"thumbnail-image"},Z=["src","alt"],G={class:"thumbnail-content"},K={class:"thumbnail-title"},Q={class:"thumbnail-date"},W={key:3,class:"blog-posts"},X=["onClick"],Y={class:"post-image"},ee=["src","alt"],ae={key:0,class:"post-category"},te={class:"post-content"},ne={class:"post-meta"},le={class:"post-date"},se={key:0,class:"post-author"},ie={class:"post-title"},oe={class:"post-excerpt"},re={key:0,class:"post-tags"},de={class:"read-more"},ue={key:4,class:"pagination"},pe=["disabled"],ce={class:"pagination-numbers"},ge=["onClick"],me=["disabled"],ve=f({__name:"BlogView",setup(f){const _=g(),{t:L}=E(),x=e([]),C=e(!0),ve=e(1),ye=e(1),be=e(20),he=e(null),fe=e(0),Ee=a(()=>{const e=[],a=Math.max(1,ve.value-2),t=Math.min(ye.value,a+4);for(let n=a;n<=t;n++)e.push(n);return e}),we=a(()=>x.value.slice(0,4)),ke=a(()=>x.value.slice(4)),_e=async(e=1)=>{try{C.value=!0;const a=localStorage.getItem("selectedLanguage")||"en",t=Le(a),n=await fetch(`https://backend.searchyourtour.com/api/blogs?token=ad5257a5-efdd-4314-9e5e-b56aabe321f1&page=${e}&limit=${be.value}&language_id=${t}`);if(!n.ok)throw new Error("Failed to load blog posts");const l=await n.json();l&&l.length>0&&l.slice(0,3).forEach((e,a)=>{}),l&&Array.isArray(l)?x.value=l.sort((e,a)=>{const t=e.created_at?new Date(e.created_at):new Date(0);return(a.created_at?new Date(a.created_at):new Date(0))-t}):x.value=[],ye.value=Math.ceil(x.value.length/be.value),ve.value=e}catch(a){x.value=[],ye.value=1}finally{C.value=!1}},Le=e=>({tr:2,de:6,en:1,ar:3,es:4,fr:5,it:7,pt:8,zh:10,ja:11,ru:9}[e]||1),xe=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},Ce=e=>e.blog_content&&e.blog_content.length>0&&e.blog_content[0].title||`Blog Post ${e.id}`,Te=e=>{if(e.blog_content&&e.blog_content.length>0){const a=(e.blog_content[0].description||"").replace(/<[^>]*>/g,"");return a.length>150?a.substring(0,150)+"...":a}return"Blog iÃ§eriÄŸi henÃ¼z eklenmemiÅŸ."},Se=e=>{if(e.image&&e.image.length>0){return`https://res.cloudinary.com/dpen2pshi/image/upload/v1737105822/${e.image[0]}.webp`}return e.images&&"string"==typeof e.images?e.images:e.files&&e.files.length>0?e.files[0].url||e.files[0]:"/placeholder-blog.jpg"},Oe=e=>{const a=(e=>{if(e.blog_content&&e.blog_content.length>0&&e.blog_content[0].slug)return e.blog_content[0].slug;if(e.blog_content&&e.blog_content.length>0&&e.blog_content[0].title)return e.blog_content[0].title.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();return e.id})(e);_.push(`/blog/${a}`)},De=e=>{fe.value=e.activeIndex},je=(e,a)=>{(e=>{if(he.value){const a=he.value.swiper||he.value;a&&"function"==typeof a.slideTo&&(a.slideTo(e,500),fe.value=e)}})(a),Oe(e)},Me=e=>{e>=1&&e<=ye.value&&_e(e)},Ie=e=>{e.detail&&e.detail.language&&_e(ve.value)};return t(()=>{_e(),window.addEventListener("language-changed",Ie)}),n(()=>{window.removeEventListener("language-changed",Ie)}),(e,a)=>(m(),l("div",D,[s("div",j,[s("h1",null,o(r(L)("blog.title")),1),s("div",M,o(r(L)("blog.subtitle")),1)]),s("div",I,[d(T)]),C.value?(m(),l("div",A,[a[2]||(a[2]=s("div",{class:"loading-spinner"},null,-1)),s("p",null,o(r(L)("blog.loading")),1)])):0===x.value.length?(m(),l("div",B,[a[3]||(a[3]=s("div",{class:"empty-icon"},"ðŸ“",-1)),s("h3",null,o(r(L)("blog.emptyState.title")),1),s("p",null,o(r(L)("blog.emptyState.description")),1)])):we.value.length>0?(m(),l("div",N,[s("div",P,[d(r(w),{modules:[r(S),r(O)],"slides-per-view":1,loop:!1,autoplay:{delay:5e3,disableOnInteraction:!1},onSlideChange:De,class:"blog-hero-slider",ref_key:"heroSwiper",ref:he},{default:u(()=>[(m(!0),l(p,null,c(we.value,e=>(m(),v(r(k),{key:e.id},{default:u(()=>[s("div",{class:"hero-slide",style:y({backgroundImage:`url(${Se(e)})`})},[a[5]||(a[5]=s("div",{class:"hero-overlay"},null,-1)),s("h2",q,[s("a",{onClick:a=>Oe(e),class:"hero-title-link"},o(Ce(e)),9,F)]),s("div",$,[s("p",z,o(Te(e)),1),s("div",R,[s("span",U,[a[4]||(a[4]=s("span",{class:"hero-icon"},"ðŸ“",-1)),b(" Admin On "+o(xe(e.created_at)),1)])])])],4)]),_:2},1024))),128))]),_:1},8,["modules"]),s("div",H,[(m(!0),l(p,null,c(we.value,(e,a)=>(m(),l("div",{key:e.id,class:h(["thumbnail-item",{active:fe.value===a}]),onClick:t=>je(e,a)},[s("div",V,[s("img",{src:Se(e),alt:Ce(e),loading:"lazy"},null,8,Z)]),s("div",G,[s("h6",K,o(Ce(e)),1),s("span",Q,o(xe(e.created_at)),1)])],10,J))),128))])])])):i("",!0),ke.value.length>0?(m(),l("div",W,[(m(!0),l(p,null,c(ke.value,e=>(m(),l("article",{key:e.id,class:"blog-post",onClick:a=>Oe(e)},[s("div",Y,[s("img",{src:Se(e),alt:Ce(e),loading:"lazy"},null,8,ee),e.category_name&&"BulunamadÄ±"!==e.category_name?(m(),l("div",ae,o(e.category_name),1)):i("",!0)]),s("div",te,[s("div",ne,[s("span",le,o(xe(e.created_at)),1),e.author?(m(),l("span",se,o(e.author),1)):i("",!0)]),s("h2",ie,o(Ce(e)),1),s("p",oe,o(Te(e)),1),e.category&&e.category.length?(m(),l("div",re,[(m(!0),l(p,null,c(e.category.slice(0,3),e=>(m(),l("span",{key:e,class:"post-tag"},o(e),1))),128))])):i("",!0),s("div",de,o(r(L)("blog.readMore")),1)])],8,X))),128))])):i("",!0),ye.value>1?(m(),l("div",ue,[s("button",{onClick:a[0]||(a[0]=e=>Me(ve.value-1)),disabled:1===ve.value,class:"pagination-btn"},o(r(L)("blog.pagination.previous")),9,pe),s("div",ce,[(m(!0),l(p,null,c(Ee.value,e=>(m(),l("button",{key:e,onClick:a=>Me(e),class:h(["pagination-number",{active:e===ve.value}])},o(e),11,ge))),128))]),s("button",{onClick:a[1]||(a[1]=e=>Me(ve.value+1)),disabled:ve.value===ye.value,class:"pagination-btn"},o(r(L)("blog.pagination.next")),9,me)])):i("",!0)]))}},[["__scopeId","data-v-8827ce71"]]);export{ve as default};
