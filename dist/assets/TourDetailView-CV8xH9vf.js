import{_ as S,r as m,d as V,c as l,e as d,a as t,t as i,F as g,b as y,h as w,w as D,f as B,g as v,n as k,u as E,o as a}from"./index-C89EAVNL.js";const H={class:"tour-detail"},L={key:0,class:"loading-state"},P={key:1,class:"error-state"},W={key:2},j={class:"tour-hero"},q={class:"container"},z={class:"tour-hero-content"},U={class:"tour-images"},G={class:"main-image"},O=["src","alt"],R={key:0,class:"image-gallery"},J=["src","alt"],K={class:"tour-info"},Q={class:"breadcrumb"},X={class:"tour-title"},Y={class:"tour-meta"},Z={class:"duration"},tt={class:"destination"},st={class:"tour-description"},et={key:0,class:"tour-highlights"},ot={class:"tour-price-section"},nt={class:"price-info"},it={class:"price"},lt={class:"current-price"},at={class:"tour-details"},ut={class:"container"},rt={class:"tabs"},dt={class:"tab-content"},ct={key:0,class:"tab-panel"},vt={class:"overview-content"},_t={class:"overview-text"},pt=["innerHTML"],ft={class:"overview-sidebar"},mt={class:"info-card"},gt={class:"info-item"},yt={class:"info-item"},kt={class:"info-item"},bt={class:"info-item"},ht={key:0,class:"info-item"},Tt={key:1,class:"tab-panel"},wt={class:"inclusions-grid"},Dt={key:0,class:"inclusions-section"},Nt={class:"inclusions-list"},xt={key:1,class:"inclusions-section"},Ct={class:"exclusions-list"},It={key:2,class:"tab-panel"},At={class:"additional-info"},Mt={class:"info-section"},$t={class:"detail-item"},Ft={class:"detail-item"},St={class:"detail-item"},Vt={key:0,class:"detail-item"},Bt={__name:"TourDetailView",setup(Et){const N=E(),c=m("overview"),e=m(null),b=m(!1),_=m(null),h=async()=>{var s;const u=N.params.id;if(!u){_.value="Tour ID not found";return}b.value=!0,_.value=null;try{const o=await fetch("https://searchyourtour.com/api/allTours");if(!o.ok)throw new Error("Failed to fetch tour data");const r=(s=(await o.json()).data)==null?void 0:s.find(f=>f.id.toString()===u);if(!r)throw new Error("Tour not found");e.value=r}catch(o){_.value="Failed to load tour details. Please try again later.",console.error("Error fetching tour:",o)}finally{b.value=!1}},p=u=>{var s,o;return((o=(s=u.content)==null?void 0:s[0])==null?void 0:o.name)||"Unnamed Tour"},x=u=>{var r,f;const s=(f=(r=u.content)==null?void 0:r[0])==null?void 0:f.meta_content;if(!s)return"No description available";const o=document.createElement("div");o.innerHTML=s;const n=o.textContent||o.innerText||"";return n.length>200?n.substring(0,200)+"...":n},C=u=>{var s,o;return((o=(s=u.content)==null?void 0:s[0])==null?void 0:o.description)||"No detailed description available"},I=u=>{var s,o;return((o=(s=u.files)==null?void 0:s[0])==null?void 0:o.url)||"https://via.placeholder.com/800x500?text=No+Image"},T=u=>{var s;return((s=u.destination)==null?void 0:s.name)||"Unknown Destination"},A=u=>{var n,r;const s=(n=u.tour_price)==null?void 0:n[0];return s?`${((r=s.currency)==null?void 0:r.icon)||"â‚¬"}${s.price}`:"Price on request"},M=u=>{if(!u.days||u.days.length===0)return"Not specified";const s=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return u.days.map(o=>s[o-1]).join(", ")},$=()=>{console.log("Booking tour:",e.value.id)},F=()=>{console.log("Adding to wishlist:",e.value.id)};return V(()=>{h()}),(u,s)=>{const o=B("router-link");return a(),l("div",H,[b.value?(a(),l("div",L,s[3]||(s[3]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"Loading tour details...",-1)]))):_.value?(a(),l("div",P,[t("p",null,i(_.value),1),t("button",{onClick:h,class:"btn btn-primary"},"Try Again")])):e.value?(a(),l("div",W,[t("section",j,[t("div",q,[t("div",z,[t("div",U,[t("div",G,[t("img",{src:I(e.value),alt:p(e.value)},null,8,O)]),e.value.files&&e.value.files.length>1?(a(),l("div",R,[(a(!0),l(g,null,y(e.value.files.slice(1,5),(n,r)=>(a(),l("div",{class:"gallery-item",key:n.id},[t("img",{src:n.url,alt:`${p(e.value)} - Image ${r+2}`},null,8,J)]))),128))])):d("",!0)]),t("div",K,[t("nav",Q,[w(o,{to:"/"},{default:D(()=>s[4]||(s[4]=[v("Home")])),_:1,__:[4]}),s[6]||(s[6]=t("span",null,"/",-1)),w(o,{to:"/tours"},{default:D(()=>s[5]||(s[5]=[v("Tours")])),_:1,__:[5]}),s[7]||(s[7]=t("span",null,"/",-1)),t("span",null,i(p(e.value)),1)]),t("h1",X,i(p(e.value)),1),t("div",Y,[s[10]||(s[10]=t("div",{class:"rating"},[t("i",{class:"fas fa-star"}),t("span",null,"4.5"),t("span",{class:"review-count"},"(New)")],-1)),t("div",Z,[s[8]||(s[8]=t("i",{class:"fas fa-clock"},null,-1)),t("span",null,i(e.value.tour_duraction)+" "+i(e.value.tour_duraction_type)+i(e.value.tour_duraction>1?"s":""),1)]),t("div",tt,[s[9]||(s[9]=t("i",{class:"fas fa-map-marker-alt"},null,-1)),t("span",null,i(T(e.value)),1)])]),t("div",st,[t("p",null,i(x(e.value)),1)]),e.value.tour_include_service&&e.value.tour_include_service.length>0?(a(),l("div",et,[s[11]||(s[11]=t("h3",null,"Highlights",-1)),t("ul",null,[(a(!0),l(g,null,y(e.value.tour_include_service.slice(0,5),n=>(a(),l("li",{key:n.id},i(n.include_service),1))),128))])])):d("",!0),t("div",ot,[t("div",nt,[t("div",it,[t("span",lt,i(A(e.value)),1)]),s[12]||(s[12]=t("div",{class:"price-per-person"},"per person",-1))]),t("div",{class:"tour-actions"},[t("button",{class:"btn btn-primary book-btn",onClick:$},s[13]||(s[13]=[t("i",{class:"fas fa-calendar-check"},null,-1),v(" Book Now ")])),t("button",{class:"btn btn-secondary",onClick:F},s[14]||(s[14]=[t("i",{class:"fas fa-heart"},null,-1),v(" Add to Wishlist ")]))])])])])])]),t("section",at,[t("div",ut,[t("div",rt,[t("button",{class:k(["tab-btn",{active:c.value==="overview"}]),onClick:s[0]||(s[0]=n=>c.value="overview")}," Overview ",2),t("button",{class:k(["tab-btn",{active:c.value==="inclusions"}]),onClick:s[1]||(s[1]=n=>c.value="inclusions")}," What's Included ",2),t("button",{class:k(["tab-btn",{active:c.value==="additional"}]),onClick:s[2]||(s[2]=n=>c.value="additional")}," Additional Info ",2)]),t("div",dt,[c.value==="overview"?(a(),l("div",ct,[t("div",vt,[t("div",_t,[s[15]||(s[15]=t("h3",null,"About This Tour",-1)),t("div",{innerHTML:C(e.value)},null,8,pt)]),t("div",ft,[t("div",mt,[s[21]||(s[21]=t("h4",null,"Tour Information",-1)),t("div",gt,[s[16]||(s[16]=t("i",{class:"fas fa-map-marker-alt"},null,-1)),t("span",null,"Destination: "+i(T(e.value)),1)]),t("div",yt,[s[17]||(s[17]=t("i",{class:"fas fa-clock"},null,-1)),t("span",null,"Duration: "+i(e.value.tour_duraction)+" "+i(e.value.tour_duraction_type)+i(e.value.tour_duraction>1?"s":""),1)]),t("div",kt,[s[18]||(s[18]=t("i",{class:"fas fa-users"},null,-1)),t("span",null,"Max Group Size: "+i(e.value.pax||"Not specified"),1)]),t("div",bt,[s[19]||(s[19]=t("i",{class:"fas fa-calendar"},null,-1)),t("span",null,"Available Days: "+i(M(e.value)),1)]),e.value.min_age?(a(),l("div",ht,[s[20]||(s[20]=t("i",{class:"fas fa-child"},null,-1)),t("span",null,"Minimum Age: "+i(e.value.min_age),1)])):d("",!0)])])])])):d("",!0),c.value==="inclusions"?(a(),l("div",Tt,[t("div",wt,[e.value.tour_include_service&&e.value.tour_include_service.length>0?(a(),l("div",Dt,[s[23]||(s[23]=t("h3",null,"What's Included",-1)),t("ul",Nt,[(a(!0),l(g,null,y(e.value.tour_include_service,n=>(a(),l("li",{key:n.id},[s[22]||(s[22]=t("i",{class:"fas fa-check"},null,-1)),v(" "+i(n.include_service),1)]))),128))])])):d("",!0),e.value.tour_outside_service&&e.value.tour_outside_service.length>0?(a(),l("div",xt,[s[25]||(s[25]=t("h3",null,"Not Included",-1)),t("ul",Ct,[(a(!0),l(g,null,y(e.value.tour_outside_service,n=>(a(),l("li",{key:n.id},[s[24]||(s[24]=t("i",{class:"fas fa-times"},null,-1)),v(" "+i(n.outside_service),1)]))),128))])])):d("",!0)])])):d("",!0),c.value==="additional"?(a(),l("div",It,[t("div",At,[t("div",Mt,[s[30]||(s[30]=t("h3",null,"Tour Details",-1)),t("div",$t,[s[26]||(s[26]=t("strong",null,"Tour Code:",-1)),v(" "+i(e.value.code),1)]),t("div",Ft,[s[27]||(s[27]=t("strong",null,"Duration Type:",-1)),v(" "+i(e.value.tour_duraction_type),1)]),t("div",St,[s[28]||(s[28]=t("strong",null,"Status:",-1)),t("span",{class:k(e.value.is_active?"status-active":"status-inactive")},i(e.value.is_active?"Active":"Inactive"),3)]),e.value.ask_for_price?(a(),l("div",Vt,s[29]||(s[29]=[t("strong",null,"Pricing:",-1),v(" Price on request ")]))):d("",!0)])])])):d("",!0)])])])])):d("",!0)])}}},Lt=S(Bt,[["__scopeId","data-v-55c98242"]]);export{Lt as default};
