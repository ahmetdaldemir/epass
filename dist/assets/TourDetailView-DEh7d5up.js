import{_ as V,r as f,d as B,c as l,e as r,a as t,t as i,F as m,b as y,h as w,i as D,f as H,g as c,n as k,u as P,o as a}from"./index-D7T6RlOk.js";const W={class:"tour-detail"},E={key:0,class:"loading-state"},j={key:1,class:"error-state"},q={key:2},z={class:"tour-hero"},U={class:"container"},G={class:"tour-hero-content"},O={class:"tour-images"},R={class:"main-image"},J=["src","alt"],K={key:0,class:"image-gallery"},Q=["src","alt"],X={class:"tour-info"},Y={class:"breadcrumb"},Z={class:"tour-title"},tt={class:"tour-meta"},st={class:"duration"},et={class:"destination"},nt={class:"tour-description"},ot={key:0,class:"tour-highlights"},it={class:"tour-price-section"},lt={class:"price-info"},at={class:"price"},ut={class:"current-price"},rt={class:"tour-details"},dt={class:"container"},ct={class:"tabs"},vt={class:"tab-content"},_t={key:0,class:"tab-panel"},pt={class:"overview-content"},gt={class:"overview-text"},ft=["innerHTML"],mt={class:"overview-sidebar"},yt={class:"info-card"},kt={class:"info-item"},bt={class:"info-item"},ht={class:"info-item"},Tt={class:"info-item"},wt={key:0,class:"info-item"},Dt={key:1,class:"tab-panel"},It={class:"inclusions-grid"},Nt={key:0,class:"inclusions-section"},xt={class:"inclusions-list"},Ct={key:1,class:"inclusions-section"},At={class:"exclusions-list"},Mt={key:2,class:"tab-panel"},Lt={class:"additional-info"},$t={class:"info-section"},St={class:"detail-item"},Ft={class:"detail-item"},Vt={class:"detail-item"},Bt={key:0,class:"detail-item"},Ht={__name:"TourDetailView",setup(Pt){const I=P(),d=f("overview"),e=f(null),b=f(!1),_=f(null),h=async()=>{b.value=!0,_.value=null;try{const o=localStorage.getItem("selectedLanguage")||"en",u=`https://searchyourtour.com/api/tours?token=ad5257a5-efdd-4314-9e5e-b56aabe321f1&language_id=${N(o)}&currency_id=5&limit=100&IpAdrress=78.177.166.135`,n=await fetch(u);if(!n.ok)throw new Error("Failed to fetch tour data");const p=(await n.json()).find(F=>F.id.toString()===I.params.id);if(!p){_.value="Tour not found";return}e.value=p}catch(o){_.value="Failed to load tour details. Please try again later.",console.error("Error fetching tour:",o)}finally{b.value=!1}},N=o=>({en:1,tr:2,de:6,ru:9})[o]||1,g=o=>{var s,u;return((u=(s=o.content)==null?void 0:s[0])==null?void 0:u.name)||"Unnamed Tour"},x=o=>{var v,p;const s=(p=(v=o.content)==null?void 0:v[0])==null?void 0:p.meta_content;if(!s)return"No description available";const u=document.createElement("div");u.innerHTML=s;const n=u.textContent||u.innerText||"";return n.length>200?n.substring(0,200)+"...":n},C=o=>{var s,u;return((u=(s=o.content)==null?void 0:s[0])==null?void 0:u.description)||"No detailed description available"},A=o=>{var s,u;return((u=(s=o.files)==null?void 0:s[0])==null?void 0:u.url)||"https://via.placeholder.com/800x500?text=No+Image"},T=o=>{var s;return((s=o.destination)==null?void 0:s.name)||"Unknown Destination"},M=o=>{var n,v;const s=(n=o.tour_price)==null?void 0:n[0];return s?`${((v=s.currency)==null?void 0:v.icon)||"â‚¬"}${s.price}`:"Price on request"},L=o=>{if(!o.days||o.days.length===0)return"Not specified";const s=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return o.days.map(u=>s[u-1]).join(", ")},$=()=>{console.log("Booking tour:",e.value.id)},S=()=>{console.log("Adding to wishlist:",e.value.id)};return B(()=>{h()}),(o,s)=>{const u=H("router-link");return a(),l("div",W,[b.value?(a(),l("div",E,s[3]||(s[3]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"Loading tour details...",-1)]))):_.value?(a(),l("div",j,[t("p",null,i(_.value),1),t("button",{onClick:h,class:"btn btn-primary"},"Try Again")])):e.value?(a(),l("div",q,[t("section",z,[t("div",U,[t("div",G,[t("div",O,[t("div",R,[t("img",{src:A(e.value),alt:g(e.value)},null,8,J)]),e.value.files&&e.value.files.length>1?(a(),l("div",K,[(a(!0),l(m,null,y(e.value.files.slice(1,5),(n,v)=>(a(),l("div",{class:"gallery-item",key:n.id},[t("img",{src:n.url,alt:`${g(e.value)} - Image ${v+2}`},null,8,Q)]))),128))])):r("",!0)]),t("div",X,[t("nav",Y,[w(u,{to:"/"},{default:D(()=>s[4]||(s[4]=[c("Home")])),_:1,__:[4]}),s[6]||(s[6]=t("span",null,"/",-1)),w(u,{to:"/tours"},{default:D(()=>s[5]||(s[5]=[c("Tours")])),_:1,__:[5]}),s[7]||(s[7]=t("span",null,"/",-1)),t("span",null,i(g(e.value)),1)]),t("h1",Z,i(g(e.value)),1),t("div",tt,[s[10]||(s[10]=t("div",{class:"rating"},[t("i",{class:"fas fa-star"}),t("span",null,"4.5"),t("span",{class:"review-count"},"(New)")],-1)),t("div",st,[s[8]||(s[8]=t("i",{class:"fas fa-clock"},null,-1)),t("span",null,i(e.value.tour_duraction)+" "+i(e.value.tour_duraction_type)+i(e.value.tour_duraction>1?"s":""),1)]),t("div",et,[s[9]||(s[9]=t("i",{class:"fas fa-map-marker-alt"},null,-1)),t("span",null,i(T(e.value)),1)])]),t("div",nt,[t("p",null,i(x(e.value)),1)]),e.value.tour_include_service&&e.value.tour_include_service.length>0?(a(),l("div",ot,[s[11]||(s[11]=t("h3",null,"Highlights",-1)),t("ul",null,[(a(!0),l(m,null,y(e.value.tour_include_service.slice(0,5),n=>(a(),l("li",{key:n.id},i(n.include_service),1))),128))])])):r("",!0),t("div",it,[t("div",lt,[t("div",at,[t("span",ut,i(M(e.value)),1)]),s[12]||(s[12]=t("div",{class:"price-per-person"},"per person",-1))]),t("div",{class:"tour-actions"},[t("button",{class:"btn btn-primary book-btn",onClick:$},s[13]||(s[13]=[t("i",{class:"fas fa-calendar-check"},null,-1),c(" Book Now ")])),t("button",{class:"btn btn-secondary",onClick:S},s[14]||(s[14]=[t("i",{class:"fas fa-heart"},null,-1),c(" Add to Wishlist ")]))])])])])])]),t("section",rt,[t("div",dt,[t("div",ct,[t("button",{class:k(["tab-btn",{active:d.value==="overview"}]),onClick:s[0]||(s[0]=n=>d.value="overview")}," Overview ",2),t("button",{class:k(["tab-btn",{active:d.value==="inclusions"}]),onClick:s[1]||(s[1]=n=>d.value="inclusions")}," What's Included ",2),t("button",{class:k(["tab-btn",{active:d.value==="additional"}]),onClick:s[2]||(s[2]=n=>d.value="additional")}," Additional Info ",2)]),t("div",vt,[d.value==="overview"?(a(),l("div",_t,[t("div",pt,[t("div",gt,[s[15]||(s[15]=t("h3",null,"About This Tour",-1)),t("div",{innerHTML:C(e.value)},null,8,ft)]),t("div",mt,[t("div",yt,[s[21]||(s[21]=t("h4",null,"Tour Information",-1)),t("div",kt,[s[16]||(s[16]=t("i",{class:"fas fa-map-marker-alt"},null,-1)),t("span",null,"Destination: "+i(T(e.value)),1)]),t("div",bt,[s[17]||(s[17]=t("i",{class:"fas fa-clock"},null,-1)),t("span",null,"Duration: "+i(e.value.tour_duraction)+" "+i(e.value.tour_duraction_type)+i(e.value.tour_duraction>1?"s":""),1)]),t("div",ht,[s[18]||(s[18]=t("i",{class:"fas fa-users"},null,-1)),t("span",null,"Max Group Size: "+i(e.value.pax||"Not specified"),1)]),t("div",Tt,[s[19]||(s[19]=t("i",{class:"fas fa-calendar"},null,-1)),t("span",null,"Available Days: "+i(L(e.value)),1)]),e.value.min_age?(a(),l("div",wt,[s[20]||(s[20]=t("i",{class:"fas fa-child"},null,-1)),t("span",null,"Minimum Age: "+i(e.value.min_age),1)])):r("",!0)])])])])):r("",!0),d.value==="inclusions"?(a(),l("div",Dt,[t("div",It,[e.value.tour_include_service&&e.value.tour_include_service.length>0?(a(),l("div",Nt,[s[23]||(s[23]=t("h3",null,"What's Included",-1)),t("ul",xt,[(a(!0),l(m,null,y(e.value.tour_include_service,n=>(a(),l("li",{key:n.id},[s[22]||(s[22]=t("i",{class:"fas fa-check"},null,-1)),c(" "+i(n.include_service),1)]))),128))])])):r("",!0),e.value.tour_outside_service&&e.value.tour_outside_service.length>0?(a(),l("div",Ct,[s[25]||(s[25]=t("h3",null,"Not Included",-1)),t("ul",At,[(a(!0),l(m,null,y(e.value.tour_outside_service,n=>(a(),l("li",{key:n.id},[s[24]||(s[24]=t("i",{class:"fas fa-times"},null,-1)),c(" "+i(n.outside_service),1)]))),128))])])):r("",!0)])])):r("",!0),d.value==="additional"?(a(),l("div",Mt,[t("div",Lt,[t("div",$t,[s[30]||(s[30]=t("h3",null,"Tour Details",-1)),t("div",St,[s[26]||(s[26]=t("strong",null,"Tour Code:",-1)),c(" "+i(e.value.code),1)]),t("div",Ft,[s[27]||(s[27]=t("strong",null,"Duration Type:",-1)),c(" "+i(e.value.tour_duraction_type),1)]),t("div",Vt,[s[28]||(s[28]=t("strong",null,"Status:",-1)),t("span",{class:k(e.value.is_active?"status-active":"status-inactive")},i(e.value.is_active?"Active":"Inactive"),3)]),e.value.ask_for_price?(a(),l("div",Bt,s[29]||(s[29]=[t("strong",null,"Pricing:",-1),c(" Price on request ")]))):r("",!0)])])])):r("",!0)])])])])):r("",!0)])}}},Et=V(Ht,[["__scopeId","data-v-78e38ac4"]]);export{Et as default};
