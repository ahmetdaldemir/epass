import{r as e,A as a,o as s,j as l,c as t,a as n,b as i,F as o,l as c,k as r,t as u,i as d,V as p,I as v,u as y,d as m,n as f,s as h,W as k,h as b}from"./vendor-D8r79KCq.js";import{u as w}from"./selectedTour-1xvN7VTI.js";import{E as P,C as g}from"./style-CQBgBoKJ.js";import{_ as C}from"./index-4F1G0e-F.js";import"./swiper-WOzPqNul.js";const x={class:"istanbul-pass"},D={class:"pass-selection"},M={class:"container pass-flex"},S={class:"pass-grid"},F={class:"pass-header"},Y={class:"pass-price"},A={class:"pass-features"},I={class:"pass-action"},j=["onClick"],V={key:0,class:"pass-box"},_={class:"pass-select-row"},E={class:"pass-select"},T={class:"pass-price"},O={class:"quantity-row"},U=["disabled"],W={class:"price-summary"},q={key:0,class:"old-price"},z={class:"new-price"},B={key:1,class:"discount"},L={class:"order-total-row"},G={class:"order-total"},H={class:"date-input-wrapper",ref:"dateInputWrapper"},R=["value"],$={key:1,class:"mobile-calendar-modal"},J={class:"calendar-modal-header"},K={class:"calendar-scroll-container"},N=["disabled"],Q="â‚¬10.00",X=C({__name:"IstanbulPassView",setup(C){const X=k(),Z=w(),ee=e([{id:1,name:"1 Day Pass",price:139,oldPrice:230,discount:91,days:1,features:["Access to 100+ attractions","Skip-the-line entry","Free guided tours","Mobile ticket"]},{id:2,name:"3 Day Pass",price:199,oldPrice:270,discount:71,days:3,features:["Access to 100+ attractions","Skip-the-line entry","Free guided tours","Mobile ticket","Best value option"]},{id:3,name:"7 Day Pass",price:259,oldPrice:340,discount:81,days:7,features:["Access to 100+ attractions","Skip-the-line entry","Free guided tours","Mobile ticket","Maximum flexibility"]}]),ae=e(null),se=e(1),le=e(""),te=e(""),ne=e(!1),ie=e(null),oe=e(!1),ce=(new Date).toISOString().slice(0,10),re=()=>{se.value++},ue=()=>{se.value>1&&se.value--},de=a(()=>{if(!ae.value)return"â‚¬0.00";return`â‚¬${ae.value.price*se.value+10}.00`}),pe=a(()=>te.value&&""!==te.value.trim());function ve(){oe.value?ne.value=!0:h(()=>{ie.value&&ie.value.handleOpen()})}function ye(e){ne.value=!1}function me(e){e&&e.id&&(e.id<ce||(te.value=e.id,ne.value=!1))}function fe(e){const a=new Date;return a.setHours(0,0,0,0),e<a}const he=()=>{te.value&&""!==te.value&&""!==te.value.trim()?ae.value?(Z.setPass({id:ae.value.id,name:ae.value.name,price:ae.value.price,oldPrice:ae.value.oldPrice,discount:ae.value.discount,days:ae.value.days,quantity:se.value,email:le.value,startDate:te.value,totalPrice:de.value,instantFee:Q,features:ae.value.features,type:"pass"}),X.push("/checkout")):alert("Please select a pass before proceeding to payment"):alert("Please select a date before proceeding to payment")};return s(()=>{const e=()=>{oe.value=window.innerWidth<=768};e(),window.addEventListener("resize",e),l(()=>{window.removeEventListener("resize",e)})}),(e,a)=>(b(),t("div",x,[a[18]||(a[18]=n("section",{class:"hero-section"},[n("div",{class:"container"},[n("h1",null,"SearchYourTour Pass"),n("p",null,"Choose the perfect pass for your Istanbul adventure")])],-1)),n("section",D,[n("div",M,[n("div",S,[(b(!0),t(o,null,c(ee.value,e=>(b(),t("div",{class:"pass-card",key:e.id},[n("div",F,[n("h3",null,u(e.name),1),n("div",Y,[d(u(e.price)+" ",1),a[3]||(a[3]=n("span",{class:"currency"},"â‚¬",-1))])]),n("div",A,[n("ul",null,[(b(!0),t(o,null,c(e.features,e=>(b(),t("li",{key:e},u(e),1))),128))])]),n("div",I,[n("button",{onClick:a=>(e=>{ae.value=e,se.value=1})(e),class:"btn btn-primary"},"Select Pass",8,j)])]))),128))]),ae.value?(b(),t("div",V,[a[13]||(a[13]=n("h2",null,"Choose your pass",-1)),n("div",_,[n("div",E,u(ae.value.name),1),n("span",T,[d(u(ae.value.price)+" ",1),a[4]||(a[4]=n("span",{class:"currency"},"â‚¬",-1)),a[5]||(a[5]=d()),a[6]||(a[6]=n("small",null,"/ person",-1))])]),n("div",O,[n("button",{onClick:ue,disabled:se.value<=1},"-",8,U),n("span",null,u(se.value),1),n("button",{onClick:re},"+")]),n("div",W,[ae.value.oldPrice?(b(),t("div",q,[n("s",null,u(ae.value.oldPrice),1)])):i("",!0),n("div",z,u(ae.value.price),1),ae.value.discount?(b(),t("div",B,[a[7]||(a[7]=n("span",null,"Sale Discount",-1)),n("span",null,"-"+u(ae.value.discount),1)])):i("",!0)]),a[14]||(a[14]=n("hr",null,null,-1)),n("div",{class:"fee-row"},[a[8]||(a[8]=n("span",null,[d("Instant Access Fee "),n("span",{class:"info",title:"You get your pass instantly after payment."},"i")],-1)),n("span",null,u(Q))]),a[15]||(a[15]=n("div",{class:"eco-row"},[n("span",{class:"eco-icon"},"ðŸŒ±"),n("span",null,"Eco-Friendly Green Technology")],-1)),a[16]||(a[16]=n("hr",null,null,-1)),n("div",L,[a[9]||(a[9]=n("span",null,"Order Total",-1)),n("span",G,u(de.value),1)]),a[17]||(a[17]=n("div",{class:"tax-note"},"All taxes and fees included",-1)),r(n("input",{type:"email",placeholder:"E-mail Address",class:"input","onUpdate:modelValue":a[0]||(a[0]=e=>le.value=e)},null,512),[[p,le.value]]),n("div",H,[n("input",{type:"text",class:"input date-input",value:te.value,placeholder:"gg.aa.yyyy",readonly:"",onClick:ve,style:{background:"#f7f7f7",color:"#222","padding-right":"36px"}},null,8,R),n("span",{class:"calendar-icon",onClick:ve},a[10]||(a[10]=[n("svg",{width:"22",height:"22",fill:"none",viewBox:"0 0 24 24"},[n("rect",{x:"3",y:"5",width:"18",height:"16",rx:"2",stroke:"#FC6421","stroke-width":"2"}),n("path",{d:"M16 3v4M8 3v4",stroke:"#FC6421","stroke-width":"2","stroke-linecap":"round"}),n("path",{d:"M3 9h18",stroke:"#FC6421","stroke-width":"2"})],-1)])),oe.value?i("",!0):(b(),v(y(P),{key:0,ref_key:"pickerRef",ref:ie,modelValue:te.value,"onUpdate:modelValue":a[1]||(a[1]=e=>te.value=e),type:"date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",teleported:!1,editable:!1,"input-visible":!1,"disabled-date":fe,"popper-class":"custom-datepicker-popper","popper-options":{placement:"bottom-start"},style:{opacity:"0","pointer-events":"none",position:"absolute",left:"0",top:"0",width:"100%"},onChange:ye},null,8,["modelValue"])),oe.value&&ne.value?(b(),t("div",$,[n("div",J,[a[11]||(a[11]=n("span",null,"Pick a date",-1)),n("button",{class:"calendar-modal-close",onClick:a[2]||(a[2]=e=>ne.value=!1)},"Ã—")]),n("div",K,[m(y(g),{columns:1,rows:9,"min-date":y(ce),locale:"en-US",onDayclick:me,class:"vcalendar-mobile"},null,8,["min-date"])])])):i("",!0)],512),n("button",{class:f(["pay-btn",{disabled:!pe.value}]),onClick:he,disabled:!pe.value},u(pe.value?"Proceed to Payment":"Please Select Date"),11,N),n("div",{class:"save-note"},[n("b",null,"Save over "+u("â‚¬270")),a[12]||(a[12]=d(" on attractions versus original prices. "))])])):i("",!0)])])]))}},[["__scopeId","data-v-af2c9cef"]]);export{X as default};
