{
    "sourceFile": "src/components/MobileAccordion.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1752136158432,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1752149230738,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,14 @@\n         <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\"><path d=\"M6 9l6 6 6-6\" stroke=\"#222\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\"/></svg>\r\n       </span>\r\n     </button>\r\n     <transition name=\"accordion\">\r\n-      <div v-show=\"isOpen\" class=\"accordion-body\">\r\n+      <div\r\n+        v-show=\"isOpen\"\r\n+        class=\"accordion-body\"\r\n+        ref=\"bodyRef\"\r\n+        :style=\"showMoreLess && !showAll && isTruncated ? { maxHeight: maxHeight + 'px', overflow: 'hidden' } : {}\"\r\n+      >\r\n         <slot></slot>\r\n         <template v-if=\"showMoreLess && isTruncated\">\r\n           <div class=\"show-more-less\" @click.stop=\"toggleShowAll\">\r\n             <span>{{ showAll ? 'Show less' : 'Show more' }}</span>\r\n@@ -18,14 +23,15 @@\n     </transition>\r\n   </div>\r\n </template>\r\n <script setup>\r\n-import { ref, computed, watch, onMounted } from 'vue'\r\n+import { ref, computed, watch, onMounted, nextTick } from 'vue'\r\n const props = defineProps({\r\n   showMoreLess: Boolean,\r\n-  maxHeight: { type: Number, default: 180 }\r\n+  maxHeight: { type: Number, default: 180 },\r\n+  defaultOpen: { type: Boolean, default: false }\r\n })\r\n-const isOpen = ref(false)\r\n+const isOpen = ref(props.defaultOpen)\r\n const showAll = ref(false)\r\n const bodyRef = ref(null)\r\n const isTruncated = ref(false)\r\n function toggle() { isOpen.value = !isOpen.value }\r\n"
                },
                {
                    "date": 1752151537845,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,14 +40,23 @@\n   if (val && props.showMoreLess) {\r\n     nextTick(() => checkTruncate())\r\n   }\r\n })\r\n+onMounted(() => {\r\n+  if (props.showMoreLess) {\r\n+    nextTick(() => checkTruncate())\r\n+    // Watch for slot content changes (MutationObserver)\r\n+    if (bodyRef.value) {\r\n+      const observer = new MutationObserver(() => checkTruncate())\r\n+      observer.observe(bodyRef.value, { childList: true, subtree: true, characterData: true })\r\n+    }\r\n+  }\r\n+})\r\n function checkTruncate() {\r\n   if (bodyRef.value && props.showMoreLess) {\r\n     isTruncated.value = bodyRef.value.scrollHeight > props.maxHeight\r\n   }\r\n }\r\n-onMounted(() => { if (props.showMoreLess) checkTruncate() })\r\n </script>\r\n <style scoped>\r\n .mobile-accordion {\r\n   border-radius: 12px;\r\n"
                },
                {
                    "date": 1752151948280,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,57 +6,21 @@\n         <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\"><path d=\"M6 9l6 6 6-6\" stroke=\"#222\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\"/></svg>\r\n       </span>\r\n     </button>\r\n     <transition name=\"accordion\">\r\n-      <div\r\n-        v-show=\"isOpen\"\r\n-        class=\"accordion-body\"\r\n-        ref=\"bodyRef\"\r\n-        :style=\"showMoreLess && !showAll && isTruncated ? { maxHeight: maxHeight + 'px', overflow: 'hidden' } : {}\"\r\n-      >\r\n+      <div v-show=\"isOpen\" class=\"accordion-body\">\r\n         <slot></slot>\r\n-        <template v-if=\"showMoreLess && isTruncated\">\r\n-          <div class=\"show-more-less\" @click.stop=\"toggleShowAll\">\r\n-            <span>{{ showAll ? 'Show less' : 'Show more' }}</span>\r\n-          </div>\r\n-        </template>\r\n       </div>\r\n     </transition>\r\n   </div>\r\n </template>\r\n <script setup>\r\n-import { ref, computed, watch, onMounted, nextTick } from 'vue'\r\n+import { ref } from 'vue'\r\n const props = defineProps({\r\n-  showMoreLess: Boolean,\r\n-  maxHeight: { type: Number, default: 180 },\r\n   defaultOpen: { type: Boolean, default: false }\r\n })\r\n const isOpen = ref(props.defaultOpen)\r\n-const showAll = ref(false)\r\n-const bodyRef = ref(null)\r\n-const isTruncated = ref(false)\r\n function toggle() { isOpen.value = !isOpen.value }\r\n-function toggleShowAll() { showAll.value = !showAll.value }\r\n-watch(isOpen, (val) => {\r\n-  if (val && props.showMoreLess) {\r\n-    nextTick(() => checkTruncate())\r\n-  }\r\n-})\r\n-onMounted(() => {\r\n-  if (props.showMoreLess) {\r\n-    nextTick(() => checkTruncate())\r\n-    // Watch for slot content changes (MutationObserver)\r\n-    if (bodyRef.value) {\r\n-      const observer = new MutationObserver(() => checkTruncate())\r\n-      observer.observe(bodyRef.value, { childList: true, subtree: true, characterData: true })\r\n-    }\r\n-  }\r\n-})\r\n-function checkTruncate() {\r\n-  if (bodyRef.value && props.showMoreLess) {\r\n-    isTruncated.value = bodyRef.value.scrollHeight > props.maxHeight\r\n-  }\r\n-}\r\n </script>\r\n <style scoped>\r\n .mobile-accordion {\r\n   border-radius: 12px;\r\n"
                }
            ],
            "date": 1752136158432,
            "name": "Commit-0",
            "content": "<template>\r\n  <div class=\"mobile-accordion\">\r\n    <button class=\"accordion-header\" @click=\"toggle\">\r\n      <span class=\"header-text\"><slot name=\"header\"></slot></span>\r\n      <span class=\"arrow\" :class=\"{ open: isOpen }\">\r\n        <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\"><path d=\"M6 9l6 6 6-6\" stroke=\"#222\" stroke-width=\"2\" fill=\"none\" stroke-linecap=\"round\"/></svg>\r\n      </span>\r\n    </button>\r\n    <transition name=\"accordion\">\r\n      <div v-show=\"isOpen\" class=\"accordion-body\">\r\n        <slot></slot>\r\n        <template v-if=\"showMoreLess && isTruncated\">\r\n          <div class=\"show-more-less\" @click.stop=\"toggleShowAll\">\r\n            <span>{{ showAll ? 'Show less' : 'Show more' }}</span>\r\n          </div>\r\n        </template>\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref, computed, watch, onMounted } from 'vue'\r\nconst props = defineProps({\r\n  showMoreLess: Boolean,\r\n  maxHeight: { type: Number, default: 180 }\r\n})\r\nconst isOpen = ref(false)\r\nconst showAll = ref(false)\r\nconst bodyRef = ref(null)\r\nconst isTruncated = ref(false)\r\nfunction toggle() { isOpen.value = !isOpen.value }\r\nfunction toggleShowAll() { showAll.value = !showAll.value }\r\nwatch(isOpen, (val) => {\r\n  if (val && props.showMoreLess) {\r\n    nextTick(() => checkTruncate())\r\n  }\r\n})\r\nfunction checkTruncate() {\r\n  if (bodyRef.value && props.showMoreLess) {\r\n    isTruncated.value = bodyRef.value.scrollHeight > props.maxHeight\r\n  }\r\n}\r\nonMounted(() => { if (props.showMoreLess) checkTruncate() })\r\n</script>\r\n<style scoped>\r\n.mobile-accordion {\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 12px #0001;\r\n  background: #fff;\r\n  margin-bottom: 16px;\r\n  overflow: hidden;\r\n  border: 1px solid #eee;\r\n}\r\n.accordion-header {\r\n  width: 100%;\r\n  background: none;\r\n  border: none;\r\n  outline: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 18px 16px;\r\n  font-size: 1.13rem;\r\n  font-weight: 700;\r\n  color: #222;\r\n  cursor: pointer;\r\n  transition: background 0.2s;\r\n  background: #f7f7f7;\r\n}\r\n.accordion-header:hover {\r\n  background: #ffe5d1;\r\n}\r\n.arrow {\r\n  transition: transform 0.25s;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.arrow.open {\r\n  transform: rotate(180deg);\r\n}\r\n.accordion-body {\r\n  padding: 16px 16px 10px 16px;\r\n  font-size: 1.04rem;\r\n  color: #222;\r\n  background: #fff;\r\n  transition: max-height 0.3s;\r\n  overflow: hidden;\r\n}\r\n.show-more-less {\r\n  text-align: center;\r\n  color: #fc6421;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  margin-top: 10px;\r\n  user-select: none;\r\n}\r\n.accordion-enter-active, .accordion-leave-active {\r\n  transition: max-height 0.3s cubic-bezier(.4,0,.2,1);\r\n}\r\n.accordion-enter-from, .accordion-leave-to {\r\n  max-height: 0;\r\n}\r\n.accordion-enter-to, .accordion-leave-from {\r\n  max-height: 800px;\r\n}\r\n</style> "
        }
    ]
}